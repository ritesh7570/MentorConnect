<% layout("/admin/layouts/boilerplate") -%>
<div class="container mt-5">
    <h2 class="text-center">Edit Profile</h2>

    <!-- Display validation errors if any -->
    <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
        <div class="alert alert-danger">
            <ul>
                <% errors.forEach(function(error) { %>
                    <li><%= error.msg %></li>
                <% }); %>
            </ul>
        </div>
    <% } %>

    <form action="/admin/profile/edit/<%= admin.user._id %>" method="POST">
        <div class="form-group">
            <label for="permissions">Permissions:</label>
            <input type="text" class="form-control" id="permissions" name="permissions" value="<%= admin.permissions.join(", ") %>" required>
        </div>
        <div class="form-group">
            <label for="department">Department:</label>
            <input type="text" class="form-control" id="department" name="department" value="<%= admin.department %>" required>
        </div>
        
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>

    <div class="mt-3">
        <a href="/admin/profile/<%= admin.user._id %>" class="btn btn-secondary">Cancel</a>
    </div>
</div>
